# 授業資料→問題生成ツール

Streamlitを使用して、箇条書きの文章を自動的にまとまったレポート形式に変換するWebアプリケーションです。Google Gemini AIを活用して、自然な日本語のレポートを生成します。

## 機能

- 授業資料を入力
- ワンクリックで4択quizを30問生成
- 見やすいWebインターフェース
- 答えを選び、回答を提出すると採点、解説が返ってくる

## 必要な環境

- Python 3.7以上
- Streamlit
- Google Generative AI

## セットアップ

1. 必要なライブラリをインストール：
```zsh
pip install streamlit google-generativeai
```

2. Google AI StudioでGemini APIキーを取得

3. Streamlitのsecrets.tomlファイルを作成し、APIキーを設定：
```toml
# .streamlit/secrets.toml
GEMINI_API_KEY = "your-api-key-here"
```

## 使用方法

1. アプリを起動：
```zsh
streamlit run app.py
```

2. ブラウザで表示されたページで箇条書きを入力

3. 「quiz生成」ボタンをクリック

4. 自動生成されたquizを回答し、提出する

5. 採点され、解説を読む

## 使用例

**入力（箇条書き）：**
- 8章 1対多マッチング
 研修医と病院の問題(https://www.jrmp.jp/)
 新入社員と部署，労働者と会社，学生と学校，学生とゼミ
 教科書では人員と部門とよんでいる
 部門にはキャパシティ（受け入れ可能な枠）がある（3人まで受け入れ可能など）
 マッチングの記述： 部門wについてwは人員の集合の部分集合
w  1, 2,
, M。異なる部門w, wについて，w  w 。（人員は一つ
の部門にしか所属できない）
 感応選好，許容可能，個人合理性，安定性
1 : 8 9  8 : 3 2 6 4 5  7 1
2 : 9 8  9 : 3 1 6 5 7 4  2
3 : 8  9 c8  2, c9  2
4 : 8  9
5 : 8 9 
6 : 9 8 
7 :  9 8
 人員と部門のペアm, wがマッチングをブロックするとは以下の（１），（２）のどちら
か（あるいは両方）が成り立つ場合をいう
- (1) w m m, m w かつ|w|  cw
* mがwに入りたくて，wもmを取りたくて，さらにキャパシティーもいっぱいでな
い
- (2) w m mかつm w mで，あるようなm  wが存在
* mがwに入りたくて，wがより好まないようなmがmに割り当てられている。
 マッチングが安定であるとは，が個人合理的であり，どの人員と部門のペアからも
ブロックされない 場合をいう。
人員側DAアルゴリズム
 現在無所属の人員は，許容可能でかつ今まで断られたことのない部門に出願する。
部門は，出願してきた人員が許容可能でなければ断る。出願してきた許容可能な人
員を，キャパシティーに余裕があるかぎりキープするが，キャパシティーに余裕が無い
時は，キャパシティーいっぱいまで好きな順にキープし，他は断る。全員が，キープさ
れるか出願する部門が無くなればアルゴリズム終了。
 人員側DAアルゴリズムは安定性を満たす
 人員側DAアルゴリズムは人員側耐戦略性を満たす
- ただし部門側耐戦略性は満たさない
ボストン方式
 人員側DAアルゴリズムに近いが少し違う
 部門側は一旦受け入れたら，それはキープではなく，最終決定になる
 一旦受け入れた後にさらによい人員が来ても断らなければならない
 ボストン方式は安定性を満たさない
 ボストン方式は人員側耐戦略性を満たさない
部門側DAアルゴリズム
 部門側DAアルゴリズム： 部門側が人員にオファーを出す。人員側は，許容可能な
オファーをキープするが，２つ以上オファーがきたら１つ以外すべて断る。部門側は，
キープされているオファーの数がキャパシティーと同数になるか，断られていない許
容可能な人員がいなくなるまで，オファーを出し続ける。その際，部門は，断られてい
ない中で，最も好む人員にオファーする。すべての部門にオファーする人員がいなく
なったらアルゴリズムは終了し，人員はその時点でオファーをキープしている部門に
行く。
 部門側DAアルゴリズムは安定性を満たす
 部門側DAアルゴリズムは部門側耐戦略性を満たさない。
人員側DAアルゴリズム（再）
 人員側DAアルゴリズムによって導かれるマッチングを考える。どこかの部門のキャパ
シティーが増えると，すべての人員が同じかよりよい部門に行くことができる。新しい
人員が入ってくると，既存のすべての人員が同じかより悪い部門に行くことになる。
- 辞退がでて空きが出たりキャパシティーが増えたりした場合，人員側DAアルゴリ
ズムでもう一度決め直したとしても，人員側からはクレームが無い。
- 新しい人員が入ってきて，人員側DAアルゴリズムでもう一度決め直すと，人員
側からはクレームがあるかも。
例１： 教科書（p.143）の例でc8  3になったとして，人員側DAアルゴリズムを再度行う。
例２： 教科書（p.143）の例で，新しい人員 x : 9 8  があらわれ，各部門は誰よりもxをと
りたいとする。
外部性の問題
 DAアルゴリズムがうまくいかなくなる場合（外部性の問題）
- ある人員が別の人員と同じ部門に行きたいと思っていた場合（matching with
couple）
- ある人員が別の人員とは異なる部門に行きたいと思っていた場合
- 部門側がある2人の人員を同時にとりたいが，1人だけならどちらもいらないと考
えている場合
 カップル用NRMPアルゴリズム 1998年にアメリカで採用され問題を解決した
- ハーリンジャ―著 2020 『マーケットデザイン：オークションとマッチングの理
論・実践』 中央経済社 （第１０章）
マッチングシステムと安定性
 （集権的な）マッチングシステムがない労働市場
 学生と企業の就活市場
 全体的に時期が前倒しになりがち（青田買い）
 １９８０年代のアメリカの医学生と病院のマッチング
 学生の意欲の低下
 （集権的な）マッチングシステムの導入が重要
 安定なマッチングを導かないマッチングルールの問題点
 イギリスの研修医マッチング市場
 地域ごとにマッチングルールが異なる
 安定的なマッチングを導くルールの地域はルールが続いた
- エジンバラ，カーディフ
 安定的なマッチングを導かないルールの地域は６地域中，２地域しかルールが続い
ていない
- ロンドンなど
 なぜか？
 医学生と病院でブロックされるようなマッチングとなるかも
 医学生・病院はマッチングルールを介さずに相手を下がるようになる
 青田買いが発生してしまう 集権的なマッチングシステムが崩壊
 ハーリンジャー（２０２０）の第１０章
１対１マッチングとの対応関係
 人員を男性だと考える
 各部門のキャパシティー人の女性を考える
 部門wから派生した女性の選好はwと同じ
 mのwから派生した女性に対する選好
- より好む部門から派生した女性を好む
- 同じ部門から派生した女性では，番号が少ない方をより好む。
1 : 6  5 5 : 1 2 3 4 
2 : 6 5  6 : 2 3 1 4 
3 : 6 5 
4 : 5  6
 この場合の１対１マッチングの安定マッチングを求める
 その安定マッチングでwから派生した女性とマッチした人員はwに所属すると１対多
マッチングの安定マッチングが求まる
 １対多マッチングの安定マッチング求める
 wに所属する人員をwから派生した女性とマッチさせると，１対１マッチングの安定
マッチングになる
 ２つの問題は同じ問題となる
僻地病院定理
 僻地病院定理： ある安定マッチングにおいて，ある部門に所属する人員の数は，別
の安定マッチングを考えたとしても変わらない
 ある安定マッチングにおいて，人が集まらない（定員が埋まらない）病院には別の安
定マッチングを考えたとしても人が集まらない（定員が埋まらない）
- １対多マッチングをうえの方法で，1対１マッチングにする。1対１マッチングにお
いて，あるマッチングでペアになれなかった人は別の安定マッチングでもペアに
なれない僻地病院定理
 実際の研修医マッチング(JRMP)でも地方の病院に人が集まらないという問題が生じ
た地方が人手不足にならないマッチングの決め方
 鎌田他 （２０１１）「マッチング理論とその応用： 研修医の「地域偏在」とその解決
策」『医療経済研究』 23(1), 5-20
 Kamada, Y., Kojima, F. 2015. Efficient Matching under Distributional Constraints:
Theory and Application American Economic Review 105(1), (pp. 67–99)
部門側の選好の一般化
 今までの部門側の選好はキャパシティーが埋まらない限り，受け入れ可能な人は変
わらず受け入れたい
 1人しか取れないならば人員mでも取りたいが，3人の人員が入ってくれるならば，mを
とりたくないといった選好も考えられる。
 このような選好を含む一般的な場合でもDAアルゴリズムをつかって安定なマッチング
を導くことができる
 具体的には部門の選好が代替（だいたい）性を満たすならばDAアルゴリズムをつ
かって安定なマッチングを導くことができる
 部門5が人員1,2,3の中から選ぶことができるときに，人員1が選ばれるとする。その場
合，部門5が人員1,2（あるいは1,3）の中から選ぶことができるときにも人員1が選ばれ
る。
 人が少ないときの方が人員は必要（人は別の人の代わりとなって働くことができる）
 一般的な代替性の定義： m  S  S  1,
, Mとする。部門wによって,人員の
部分集合Sの中からmが選ばれるならば，Sの中からでも必ずmが選ばれるとき，部門
wの選好は代替性を満たすという。
 人員側DAのときの部門側の行動
 部門側は「出願してきた人員＋キープしている人員」の中で不要な人員を断る
 代替性を満たすとすると，キープしている人員は後半になるほど大きくなる
 前に一度断った人をやはり受け入れたいということがない安定性


**出力（4択選択機能付き）：**
本日は天候に恵まれ、清々しい晴天の下で外出する機会を得ることができた。このような好天を活用し、近所の公園へ散歩に出かけることにした。公園に到着すると、季節の花々が美しく咲き誇っており、自然の美しさを堪能することができた。この散歩を通じて、日頃の疲れやストレスから解放され、心身ともにリフレッシュすることができた。

**入力(4択から選択して回答を提出ボタンを押す)**

問題1
研修医と病院のマッチングなど、1対多マッチングにおいて「部門」が持つ重要な特性は何ですか？

A. 部門には必ず最低1人の人員を配置しなければならない
B. 部門は人員の選好リストを無視できる
C. 部門には受け入れ可能な人員の数に上限（キャパシティ）がある
D. 部門は人員を選ぶ際に特定の基準を設けてはならない


問題2
人員 m と部門 w のペアがマッチング Ω をブロックする条件として、資料で述べられているものがあります。次のうち、その条件の一部として正しいものはどれですか？

A. w が m を現在のマッチング相手より好んでおり、m も w を現在のマッチング相手より好んでいて、かつ w のキャパシティに余裕がある場合
B. w が m を現在のマッチング相手より好んでいるが、m は w を好んでいない場合
C. m が w を現在のマッチング相手より好んでいるが、w は m を好んでいない場合
D. m と w の両方が互いに好んでおり、かつ w のキャパシティがいっぱいの場合


問題3
マッチング Ω が「安定である」と定義されるのは、どのような場合ですか？

A. すべての人員が第一希望の部門に配属される場合
B. マッチングが個人合理性を満たし、どの人員と部門のペアからもブロックされない場合
C. 部門のキャパシティがすべて埋まる場合
D. マッチングが市場の効率性を最大限に高める場合

問題4
人員側DAアルゴリズムにおいて、現在無所属の人員が次に行う行動として正しいものはどれですか？

A. 最も人気のある部門にのみ出願する
B. 許容可能でかつ今まで断られたことのない部門に出願する
C. 過去に断られた部門にも再出願する
D. 全ての部門に同時に出願する



問題5
人員側DAアルゴリズムが満たす重要な特性として、資料で挙げられているものは何ですか？

A. 部門側耐戦略性
B. 市場の効率性
C. 安定性
D. 最短時間でのマッチング完了


問題6
ボストン方式と人員側DAアルゴリズムの主な違いは何ですか？

A. ボストン方式は部門が一度受け入れた人員を最終決定とする点
B. ボストン方式は人員の選好を考慮しない点
C. ボストン方式は部門が同時に複数の人員を受け入れることができる点
D. ボストン方式はキャパシティの制約がない点



問題7
ボストン方式が満たさない特性として、資料で挙げられているものは何ですか？

A. 個人合理性
B. 公平性
C. 安定性
D. 迅速なマッチング



問題8
部門側DAアルゴリズムにおいて、部門が人員にオファーを出す際、どのような人員にオファーを出し続けますか？

A. 現在キープされている人員の中で、最も好まない人員
B. 断られていない中で、最も好む人員
C. 無作為に選んだ人員
D. オファーを出したことのない全ての人員


問題9
部門側DAアルゴリズムが満たす特性として、資料で挙げられているものは何ですか？

A. 人員側耐戦略性
B. 部門側耐戦略性
C. 安定性
D. 参加者の平等性


問題10
人員側DAアルゴリズムで導かれるマッチングにおいて、ある部門のキャパシティが増加した場合、すべての人員にとってどのような影響がありますか？

A. すべての人員が同じかより悪い部門に行くことになる
B. すべての人員が同じかよりよい部門に行くことができる
C. 影響は無く、マッチング結果は変わらない
D. 一部の人気部門では人員が減り、不人気部門では人員が増える



問題11
人員側DAアルゴリズムで導かれるマッチングにおいて、新しい人員がシステムに加わった場合、既存のすべての人員にとってどのような影響がありますか？

A. 既存のすべての人員が同じかよりよい部門に行くことができる
B. 既存のすべての人員が同じかより悪い部門に行くことになる
C. 新しい人員の選好によって影響が異なる
D. 既存の人員には影響がない


問題12
DAアルゴリズムがうまくいかなくなる「外部性の問題」の例として、資料で挙げられているものは何ですか？

A. 人員が複数の部門に同時に出願したい場合
B. ある人員が別の人員と同じ部門に行きたいと思っていた場合
C. 部門が人員の選好リストを無視する場合
D. マッチングのプロセスが長すぎる場合


問題13
アメリカで研修医のマッチング問題解決のために1998年に採用されたアルゴリズムは何ですか？

A. ボストン方式
B. 人員側DAアルゴリズム
C. カップル用NRMPアルゴリズム
D. 部門側DAアルゴリズム



問題14
（集権的な）マッチングシステムがない労働市場で起こりがちな現象として、日本の学生と企業の就活市場の例で指摘されていることは何ですか？

A. 学生の学習意欲の向上
B. 全体的に時期が前倒しになりがち（青田買い）
C. 企業の採用コストの削減
D. 労働市場の安定化



問題15
1980年代のアメリカの医学生と病院のマッチングにおいて、集権的なマッチングシステムがないことで発生した問題は何ですか？

A. 病院の財政悪化
B. 医学生の意欲の低下
C. 研修医の質の向上
D. 地方病院への人材集中



問題16
安定なマッチングを導かないマッチングルールが問題となる理由として、イギリスの研修医マッチング市場の例で指摘されていることは何ですか？

A. 研修医が希望する地域に配属されなくなる
B. 医学生・病院がマッチングルールを介さずに相手を探すようになる
C. マッチングに要する時間が長くなる
D. 地域間の医療格差が拡大する



問題17
1対多マッチングの問題を1対1マッチングの問題に対応させる際、各部門のキャパシティ c 
w
​
  はどのように扱われますか？

A. 各部門は c 
w
​
  人の仮想的な男性と見なされる
B. 各部門は c 
w
​
  人の仮想的な女性と見なされる
C. 各部門は c 
w
​
  人の仮想的な無性別と見なされる
D. キャパシティは1対1マッチングでは考慮されない


問題18
1対多マッチングを1対1マッチングに変換する際、人員 m の部門 w から派生した女性に対する選好はどのように表現されますか？

A. より好む部門から派生した女性よりも、同じ部門から派生した女性を好む
B. より好む部門から派生した女性を好むが、同じ部門から派生した女性には無関心
C. より好む部門から派生した女性を好む。同じ部門から派生した女性では、番号が少ない方をより好む
D. 全ての女性に対して無差別



問題19
「僻地病院定理」とは、どのような内容を述べていますか？

A. 安定マッチングにおいて、人気のある部門には必ず定員以上の人員が集まる
B. ある安定マッチングにおいて、ある部門に所属する人員の数は、別の安定マッチングを考えたとしても変わらない
C. ある安定マッチングにおいて、人員が集まらない病院は、他の病院よりも選好リストの上位に位置する
D. 安定マッチングは、地域間の医療格差を拡大させる


問題20
僻地病院定理の帰結として、実際の研修医マッチング（JRMP）で生じた問題は何ですか？

A. 研修医の専門分野の偏り
B. 地方の病院に人が集まらない問題
C. 研修医の過重労働
D. 都会の病院での研修医不足



問題21
部門側の選好が「代替性」を満たす場合、DAアルゴリズムを使って安定なマッチングを導くことができるとされていますが、「代替性」とは具体的にどのような性質を指しますか？

A. 部門が一度受け入れた人員を、後からより好む人員に入れ替えることができる性質
B. 人員が少ないときに人員が必要となり、人が別の人の代わりとなって働くことができる性質
C. 部門が任意の人員の組み合わせを受け入れることができる性質
D. 部門が提示された人員の中から最も好む一人を選ぶ性質



問題22
「代替性」の一般的な定義において、部門 w が人員の部分集合 S の中から m を選ぶならば、どのような場合でも m が選ばれることを意味しますか？

A. S が m を含む任意の部分集合である場合
B. m が含まれる任意の非空の部分集合 S 
′
 ⊆S から
C. m が含まれる S の任意の真部分集合 S 
′
 ⊂S から
D. m が含まれる S の任意の部分集合 S 
′
 ⊆S から



問題23
人員側DAアルゴリズムの実行中に、部門側はどのように人員を処理しますか？

A. 常に新しい出願者を優先的に受け入れる
B. 出願してきた人員を無条件に断る
C. 出願してきた人員とキープしている人員の中で不要な人員を断る
D. キープしている人員を断り、新しい人員を受け入れる


問題24
人員側DAアルゴリズムにおいて、部門の選好が代替性を満たす場合、キープしている人員は後半になるにつれてどのように変化しますか？

A. 少なくなる
B. 変わらない
C. 多くなる
D. 不定である


問題25
資料に示されている人員側DAアルゴリズムの例で、c 
8
​
 =2,c 
9
​
 =2 の場合、人員1の人員側選好順位はどのように示されていますか？

A. 8, 9, 2
B. 8, 9
C. 9, 8, 2
D. 2, 8, 9



問題26
資料の例で、新しい人員 P 
x
​
 :9≻8≻2 があらわれ、各部門は誰よりも x をとりたいとします。この状況で人員側DAアルゴリズムを再度行った場合、既存の人員にどのようなクレームが発生する可能性がありますか？

A. 既存の人員がよりよい部門に行けるため、クレームは発生しない
B. 既存の人員が同じかより悪い部門に行くことになるため、クレームが発生する可能性がある
C. 新しい人員によって部門のキャパシティが減少するため、クレームが発生する
D. クレームが発生するかどうかは、各部門の選好リストによる



問題27
集権的なマッチングシステムがない労働市場で「青田買い」が発生する主な理由は何ですか？

A. 企業が優秀な人材を早期に確保したいと考えるため
B. 学生が複数の企業から同時にオファーを得たいと考えるため
C. 労働組合が早期のマッチングを推奨するため
D. 政府が市場の自由な競争を奨励するため



問題28
イギリスの研修医マッチング市場の事例において、安定的なマッチングを導くルールを採用した地域とそうでない地域で、ルールの継続性にどのような違いが見られましたか？

A. 安定的なルールを採用した地域ではルールが継続しなかった
B. 安定的なルールを採用した地域ではルールが継続し、そうでない地域では継続しなかった
C. どちらの地域でもルールは継続しなかった
D. どちらの地域でもルールは継続した


問題29
1対1マッチングにおける「ペアになれなかった人」と、1対多マッチングにおける「人が集まらない（定員が埋まらない）病院」の関連性について、僻地病院定理が示唆することは何ですか？

A. 1対1マッチングでペアになれなかった人は、1対多マッチングで定員が埋まる病院に所属できる可能性がある
B. 1対1マッチングでペアになれなかった人は、別の安定マッチングでもペアになれず、これが僻地病院定理につながる
C. 僻地病院定理は、1対1マッチングには適用されない
D. 定員が埋まらない病院は、必ず人気のある病院の選好リストの上位に位置する



問題30
DAアルゴリズムが安定なマッチングを導くために、部門の選好が満たすべき条件として最も一般的なものは何ですか？

A. 常に全員を受け入れる選好
B. 好きな人員を上位に位置付ける選好
C. 代替性を満たす選好
D. 特定の人員を拒否しない選好


**出力（採点&解説）：**

問題1
解説:
C. 部門には受け入れ可能な人員の数に上限（キャパシティ）がある が正解です。資料に「部門にはキャパシティ（受け入れ可能な枠）がある」と明記されています。これは、病院が受け入れられる研修医の数や、部署が受け入れられる新入社員の数に限りがあることを指します。

問題2
解説:
A. w が m を現在のマッチング相手より好んでおり、m も w を現在のマッチング相手より好んでいて、かつ w のキャパシティに余裕がある場合 が正解です。資料にはブロックする条件として「(1) w≻ 
m
​
 Ω(m), m≻ 
w
​
 Ω かつ ∣Ω(w)∣<c 
w
​
 」とあります。これは、m が w に入りたがっており、w も m を現在のマッチング相手より取りたがっており、さらにキャパシティに余裕がある場合にブロックが発生することを示しています。

問題3
解説:
B. マッチングが個人合理性を満たし、どの人員と部門のペアからもブロックされない場合 が正解です。資料に「マッチング Ω が安定であるとは，Ω が個人合理的であり，どの人員と部門のペアからもブロックされない 場合をいう」と明記されています。

問題4
解説:
B. 許容可能でかつ今まで断られたことのない部門に出願する が正解です。資料の「人員側DAアルゴリズム」の項目に「現在無所属の人員は，許容可能でかつ今まで断られたことのない部門に出願する」と記述されています。

問題5
解説:
C. 安定性 が正解です。資料に「人員側DAアルゴリズムは安定性を満たす」と明記されています。

問題6
解説:
A. ボストン方式は部門が一度受け入れた人員を最終決定とする点 が正解です。資料に「部門側は一旦受け入れたら，それはキープではなく，最終決定になる」「一旦受け入れた後にさらによい人員が来ても断らなければならない」とあり、これが人員側DAアルゴリズムの「キープ」とは異なる点です。

問題7
解説:
C. 安定性 が正解です。資料に「ボストン方式は安定性を満たさない」と明記されています。

問題8
解説:
B. 断られていない中で、最も好む人員 が正解です。資料の「部門側DAアルゴリズム」の項目に「その際，部門は，断られていない中で，最も好む人員にオファーする」と記述されています。

問題9
解説:
C. 安定性 が正解です。資料に「部門側DAアルゴリズムは安定性を満たす」と明記されています。

問題10
解説:
B. すべての人員が同じかよりよい部門に行くことができる が正解です。資料に「どこかの部門のキャパシティーが増えると，すべての人員が同じかよりよい部門に行くことができる」と記述されています。

問題11
解説:
B. 既存のすべての人員が同じかより悪い部門に行くことになる が正解です。資料に「新しい人員が入ってくると，既存のすべての人員が同じかより悪い部門に行くことになる」と記述されています。

問題12
解説:
B. ある人員が別の人員と同じ部門に行きたいと思っていた場合 が正解です。資料の「外部性の問題」の項目に「ある人員が別の人員と同じ部門に行きたいと思っていた場合（matching with couple）」が挙げられています。

問題13
解説:
C. カップル用NRMPアルゴリズム が正解です。資料に「カップル用NRMPアルゴリズム 1998年にアメリカで採用され問題を解決した」と記述されています。

問題14
解説:
B. 全体的に時期が前倒しになりがち（青田買い） が正解です。資料に「全体的に時期が前倒しになりがち（青田買い）」と記述されています。

問題15
解説:
B. 医学生の意欲の低下 が正解です。資料に「学生の意欲の低下」と記述されています。

問題16
解説:
B. 医学生・病院がマッチングルールを介さずに相手を探すようになる が正解です。資料に「医学生・病院はマッチングルールを介さずに相手を下がるようになる」「青田買いが発生してしまう ⟹ 集権的なマッチングシステムが崩壊」と記述されています。

問題17
解説:
B. 各部門は c 
w
​
  人の仮想的な女性と見なされる が正解です。資料に「各部門のキャパシティーc 
w
​
 人の女性を考える」と記述されています。

問題18
解説:
C. より好む部門から派生した女性を好む。同じ部門から派生した女性では、番号が少ない方をより好む が正解です。資料に「より好む部門から派生した女性を好む」「同じ部門から派生した女性では，番号が少ない方をより好む」と記述されています。

問題19
解説:
B. ある安定マッチングにおいて、ある部門に所属する人員の数は、別の安定マッチングを考えたとしても変わらない が正解です。資料に「僻地病院定理： ある安定マッチングにおいて，ある部門に所属する人員の数は，別の安定マッチングを考えたとしても変わらない」と明記されています。

問題20
解説:
B. 地方の病院に人が集まらない問題 が正解です。資料に「実際の研修医マッチング(JRMP)でも地方の病院に人が集まらないという問題が生じた」と記述されています。

問題21
解説:
B. 人員が少ないときに人員が必要となり、人が別の人の代わりとなって働くことができる性質 が正解です。資料には「人が少ないときの方が人員は必要（人は別の人の代わりとなって働くことができる）」と記述されており、これが代替性の概念を説明しています。

問題22
解説:
D. m が含まれる S の任意の部分集合 S 
′
 ⊆S から が正解です。資料の定義は「m∈S 
′
 ⊆S⊆{1,…,M} とする。部門 w によって,人員の部分集合 S の中から m が選ばれるならば，S 
′
  の中からでも必ず m が選ばれるとき，部門 w の選好は代替性を満たすという」とあります。これは、S の中から m が選ばれた場合、m を含むより小さな部分集合 S 
′
  が提示されても、m が選ばれることを意味します。

問題23
解説:
C. 出願してきた人員とキープしている人員の中で不要な人員を断る が正解です。資料の「人員側DAのときの部門側の行動」に「部門側は「出願してきた人員＋キープしている人員」の中で不要な人員を断る」と記述されています。

問題24
解説:
C. 多くなる が正解です。資料に「代替性を満たすとすると，キープしている人員は後半になるほど大きくなる」と記述されています。

問題25
解説:
A. 8, 9, 2 が正解です。資料の「P 
1
​
 :8≻9≻2」という記述から、人員1は部門8を最も好み、次に部門9、最後に部門2を好むことがわかります。

問題26
解説:
B. 既存の人員が同じかより悪い部門に行くことになるため、クレームが発生する可能性がある が正解です。資料の「新しい人員が入ってくると，既存のすべての人員が同じかより悪い部門に行くことになる。」という記述から、既存の人員は不利益を被る可能性があるため、クレームが発生しうることを示唆しています。

問題27
解説:
A. 企業が優秀な人材を早期に確保したいと考えるため が最も適切な理由です。資料には「全体的に時期が前倒しになりがち（青田買い）」とあり、これは集権的なシステムがない中で、各参加者が自身の有利な状況を作ろうとする結果として生じます。

問題28
解説:
B. 安定的なルールを採用した地域ではルールが継続し、そうでない地域では継続しなかった が正解です。資料に「安定的なマッチングを導くルールの地域はルールが続いた」「安定的なマッチングを導かないルールの地域は６地域中，２地域しかルールが続いていない」と記述されています。

問題29
解説:
B. 1対1マッチングでペアになれなかった人は、別の安定マッチングでもペアになれず、これが僻地病院定理につながる が正解です。資料に「1対１マッチングにおいて，あるマッチングでペアになれなかった人は別の安定マッチングでもペアになれない ⟹ 僻地病院定理」と記述されており、この関係性が示唆されています。

問題30
解説:
C. 代替性を満たす選好 が正解です。資料に「このような選好を含む一般的な場合でもDAアルゴリズムをつかって安定なマッチングを導くことができる」「具体的には部門の選好が代替（だいたい）性を満たすならばDAアルゴリズムをつかって安定なマッチングを導くことができる」と明確に記述されています。

## 注意事項

- Gemini APIの使用には制限があります
- APIキーは適切に管理してください
- 長すぎる文章は処理に時間がかかる場合があります

## ライセンス

MIT License# QuizGenerate
